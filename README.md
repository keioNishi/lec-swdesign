# ソフトウェア・ハードウェアデザイン 実装集

このリポジトリには、ソフトウェア・ハードウェアデザイン講義資料から抽出したPythonプログラムとデータベース関連のSQLファイルが含まれています。

## 学習目的

このコレクションは以下の学習目的で構成されています：

1. **オブジェクト指向プログラミング**の基本概念習得
2. **アルゴリズム設計**の理解と実装
3. **データ構造**の効率的な使用方法
4. **グラフアルゴリズム**とパス探索の実装
5. **パフォーマンス分析**と最適化手法
6. **エラーハンドリング**とデバッグ技術

## ファイル一覧と内容

### 1. オブジェクト指向プログラミング

#### 01_student_example.py
- **概要**: 手続き型とオブジェクト指向プログラミングの違いを学ぶ基本的な例
- **内容**: オブジェクト指向プログラミングの基本概念
- **実装**:
  - 手続き型プログラミングの例
  - クラスとオブジェクトの基本的な使用方法
  - Studentクラスの実装

#### 02_inheritance_example.py
- **概要**: 親クラスから子クラスへの機能継承とメソッド拡張を学ぶ
- **内容**: 継承の実装例
- **実装**:
  - Vehicleベースクラス
  - Car、Motorcycleクラスの継承
  - メソッドのオーバーライドと拡張

#### 03_encapsulation_example.py
- **概要**: データの隠蔽とプロパティデコレータによる安全なアクセス制御
- **内容**: カプセル化とプロパティデコレータ
- **実装**:
  - Temperatureクラス（getter/setter）
  - DataProcessorクラス（遅延評価）
  - プロパティによるデータ保護

#### 04_abstraction_example.py
- **概要**: 抽象クラスを使った共通インターフェースの定義と強制実装
- **内容**: 抽象クラスと抽象メソッド
- **実装**:
  - Shapeベース抽象クラス
  - Rectangle、Circleクラスの具象実装
  - @abstractmethodデコレータの使用

#### 05_static_method_example.py
- **概要**: インスタンスに依存しない便利な数学関数の集合
- **内容**: 静的メソッドの実装
- **実装**:
  - MathUtilsクラス
  - 階乗、最大公約数、素数判定の静的メソッド

### 2. エラーハンドリングとデバッグ

#### 06_error_handling_example.py
- **概要**: 銀行口座システムでカスタム例外を使った安全な資金管理
- **内容**: カスタム例外とエラーハンドリング
- **実装**:
  - InsufficientFundsErrorカスタム例外
  - BankAccountクラス
  - try-except文による例外処理

#### 07_assertion_example.py
- **概要**: プログラムの正確性を保証するアサーションの活用例
- **内容**: アサーションによる前提条件・後提条件チェック
- **実装**:
  - divide関数（前提・後提条件）
  - binary_search関数（ソート済み配列の検証）

#### 08_logging_example.py
- **概要**: アプリケーションの動作記録とデバッグ支援システム
- **内容**: ログ機能の実装
- **実装**:
  - ApplicationLoggerクラス
  - ファイルとコンソールへの出力
  - ログレベルの管理

#### 09_performance_analysis.py
- **概要**: 実行時間測定デコレータでアルゴリズムの性能差を可視化
- **内容**: パフォーマンス分析用デコレータ
- **実装**:
  - measure_timeデコレータ
  - フィボナッチ数列の高速・低速実装比較

### 3. 再帰アルゴリズム

#### 10_recursion_examples.py
- **概要**: 再帰の基本概念とメモ化による最適化テクニック
- **内容**: 再帰とメモ化の基本例
- **実装**:
  - 階乗計算
  - フィボナッチ数列（通常版・メモ化版）

#### 11_maze_generation.py
- **概要**: 再帰的バックトラッキング（DFS）を使った自動迷路生成システム
- **内容**: 深さ優先探索による完全迷路（perfect maze）の生成
- **実装**:
  - generate_maze関数（再帰的バックトラック）
  - スタート（S）とゴール（G）の自動配置
  - print_maze表示関数

#### 12_maze_solver.py
- **概要**: 深さ優先探索で迷路の解を見つけるパスファインダー
- **内容**: 深さ優先探索（DFS）による迷路解法
- **実装**:
  - solve_maze関数（再帰的DFS）
  - 経路探索と経路の可視化
  - 迷路生成と解法の統合デモ

#### 13_island_labeling.py
- **概要**: 海域マップで陸地の島々を自動識別・分類するシステム
- **内容**: 連結成分ラベリングアルゴリズム
- **実装**:
  - label_islands関数
  - DFSによる島の識別と番号付け
  - ランダム海域マップ生成

### 4. ソートアルゴリズム

#### 14_quicksort.py
- **概要**: 分割統治法による高速ソートとPython標準ソートとの性能比較
- **内容**: クイックソートアルゴリズム
- **実装**:
  - quicksort関数（分割統治法）
  - Python内蔵sort関数との比較
  - 昇順・降順ソート

#### 15_mergesort.py
- **概要**: 安定ソートの代表格で最悪時間計算量が保証されるアルゴリズム
- **内容**: マージソートアルゴリズム
- **実装**:
  - mergesort、merge関数
  - 安定ソートの実装
  - Timsort（Python標準）との比較

#### 16_heapsort.py
- **概要**: 追加メモリ不要でO(n log n)を保証するインプレースソート
- **内容**: ヒープソートアルゴリズム
- **実装**:
  - heapsort、heapify関数
  - インプレースソート
  - アルゴリズム性能比較表

### 5. データ構造

#### 17_hashtable.py
- **概要**: O(1)の高速検索を実現するハッシュテーブルとPython辞書の仕組み
- **内容**: ハッシュテーブルの実装
- **実装**:
  - HashTableクラス（チェイン法）
  - Python辞書・集合の内部構造説明
  - ハッシュ関数の使用例

#### 18_crypto_hash.py
- **概要**: データ整合性検証と暗号化で使われる各種ハッシュアルゴリズム
- **内容**: 暗号学的ハッシュ関数
- **実装**:
  - MD5、SHA-1、SHA-256、SHA-512
  - hashlibライブラリの使用
  - ファイルハッシュ値計算例

#### 19_linkedlist.py
- **概要**: 動的サイズ変更と効率的な挿入・削除が可能な線形データ構造
- **内容**: 単方向リンクリストの実装
- **実装**:
  - Node、LinkedListクラス
  - 挿入、削除、表示メソッド
  - 配列との性能比較

#### 20_binary_search_tree.py
- **概要**: ソート済みデータの高速検索・挿入・削除を実現する木構造
- **内容**: 二分探索木の実装
- **実装**:
  - TreeNode、BinarySearchTreeクラス
  - 挿入、検索、走査メソッド
  - 最悪ケース（一直線）の例

#### 21_tree_traversal.py
- **概要**: 木構造を体系的に巡回する各種アルゴリズムとBFS/DFS比較
- **内容**: 木の走査アルゴリズム
- **実装**:
  - 中順、前順、後順走査
  - 幅優先探索（BFS）
  - 深さ優先探索（DFS）
  - DFS vs BFS の比較

### 6. グラフアルゴリズムとパス探索

#### 22_dijkstra_basic.py
- **概要**: ダイクストラ法の基本実装（優先度キューなし）
- **内容**: 最も基本的なダイクストラ法の実装
- **実装**:
  - 全ノードを毎回チェックして最小距離のノードを探索
  - 計算量: O(V²)（Vはノード数）
  - 日本の主要都市道路網を使った実践例
  - 経路復元と詳細表示機能

#### 23_dijkstra_simple.py
- **概要**: 優先度キューを使用した効率的なダイクストラ法
- **内容**: ヒープを使った高速実装
- **実装**:
  - heapqモジュールによる優先度キュー実装
  - 計算量: O((V+E)log V)（Vはノード数、Eはエッジ数）
  - ヨーロッパ主要都市鉄道網を使った実践例
  - 大規模グラフでも高速に動作

#### 24_astar_simple.py
- **概要**: A*アルゴリズムによるヒューリスティック探索
- **内容**: ヒューリスティック関数を使った目標指向探索
- **実装**:
  - 評価関数: f(n) = g(n) + h(n)
  - g(n): 始点からの実コスト
  - h(n): 目標までの推定コスト（ユークリッド距離）
  - アメリカ主要都市道路網を使った実践例
  - ダイクストラ法より効率的な探索

#### 25_graph_visualization.py
- **概要**: グラフ探索アルゴリズムの可視化ツール
- **内容**: ダイクストラ法とA*アルゴリズムの比較可視化
- **実装**:
  - NetworkXとMatplotlibを使ったグラフ描画
  - アルゴリズム比較の可視化
  - グリッド迷路での経路探索可視化
  - 探索効率の定量的比較
  - PNG画像ファイルとして結果を出力

### 7. ネットワークプログラミング

#### 26_socket_programming_basics.py
- **概要**: ソケットプログラミングの基礎概念と実装
- **内容**: TCP/UDPソケット作成、クライアント・サーバー通信
- **実装**:
  - TCP/UDPソケットの作成と設定
  - エコーサーバーとクライアント
  - ソケット通信の基本パターン
- **補助ファイル**: `socket_programming_basics_jp.py`（日本語版）, `28_test_socket_demo.py`

#### 27_network_client_server.py
- **概要**: ソケット通信によるクライアント・サーバモデルの基礎
- **内容**: ローカルホスト上の TCP 接続、レスポンス処理、エラーハンドリング
- **実装**:
  - スレッドで動作する簡易 TCP サーバ
  - クライアントからのメッセージ送受信
  - 存在しないポートへの接続失敗シナリオ

#### 29_http_client_server.py
- **概要**: HTTP プロトコルを使ったクライアント・サーバー通信
- **内容**: HTTPリクエスト・レスポンス、JSON API、404エラー処理
- **実装**:
  - 簡易HTTPサーバーの実装
  - HTTPクライアントによるリクエスト送信
  - JSONデータの送受信
- **補助ファイル**: `29_simple_web_server.py`（独立動作可能なWebサーバー）

#### 30_email_client.py
- **概要**: 電子メールクライアントの実装
- **内容**: メール作成、添付ファイル、SMTP/POP3シミュレーション
- **実装**:
  - MIME形式でのメール作成
  - 添付ファイルの処理
  - メールサーバーとの通信シミュレーション
- **修正版**: `30_email_client_fixed.py`（添付ファイル処理のバグ修正版）

#### 31_ftp_client.py
- **概要**: FTPクライアントの実装
- **内容**: FTP接続、認証、ファイル操作シミュレーション
- **実装**:
  - FTPサーバーへの接続と認証
  - ファイルのアップロード・ダウンロード
  - ディレクトリ操作
- **修正版**: `31_ftp_client_fixed.py`（Unicode文字問題修正版）

#### 32_dns_resolution.py
- **概要**: DNS名前解決の実装
- **内容**: ドメイン名からIPアドレスへの変換
- **実装**:
  - DNS問い合わせの基本機能
  - 逆引きDNSの実装
  - DNSキャッシュの概念

#### 33_web_scraping.py
- **概要**: Webスクレイピングの実装
- **内容**: HTMLパース、正規表現抽出、データ保存
- **実装**:
  - HTMLページの取得と解析
  - 正規表現によるデータ抽出
  - JSONファイルへのデータ保存

#### 34_network_protocols.py
- **概要**: ネットワークプロトコルの基礎
- **内容**: TCP/UDP通信デモ、プロトコルスタック説明
- **実装**:
  - プロトコル階層の説明
  - TCP/UDP通信の比較
  - ネットワーク層の理解

#### 35_network_security_basics.py
- **概要**: ネットワークセキュリティの基礎
- **内容**: 暗号化、SSL接続、認証機能
- **実装**:
  - ネットワーク暗号化の基本
  - SSL/TLS接続の概念
  - セキュアな通信の実装

#### 36_network_performance.py
- **概要**: ネットワークパフォーマンス測定
- **内容**: レイテンシ測定、スループット測定、輻輳シミュレーション
- **実装**:
  - ネットワーク遅延の測定
  - 帯域幅の計算
  - パフォーマンス最適化の概念

### 8. データベース操作

#### 37_run_database_examples.py
- **概要**: データベース操作の実行スクリプト
- **内容**: PostgreSQL接続とサンプルクエリの実行
- **実装**:
  - データベース接続の確立
  - サンプルデータの挿入・更新・削除
  - クエリ結果の表示

#### 38_test_postgresql_connection.py
- **概要**: PostgreSQL接続テスト
- **内容**: データベース接続の確認
- **実装**:
  - 接続パラメータの検証
  - 接続状態の確認
  - エラーハンドリング

#### 39_verify_database_setup.py
- **概要**: データベースセットアップの検証
- **内容**: データベース環境の確認
- **実装**:
  - テーブル存在確認
  - 権限の確認
  - セットアップ状態の検証

### 9. セキュリティ

#### 47_security_basics.py
- **概要**: 情報セキュリティの三要素（CIAトライアド）の基本概念デモ
- **内容**: 認証、ハッシュによる完全性確認、可用性ステータスの出力
- **実装**:
  - シンプルなユーザー認証
  - SHA-256 を用いたハッシュ生成
  - システム稼働状態の確認データ

#### 48_input_validation.py
- **概要**: 入力値検証による代表的な脆弱性（XSS/SQLi）対策
- **内容**: 正規表現とホワイトリスト方式によるバリデーション
- **実装**:
  - メールアドレス形式チェック
  - 危険文字のサニタイズ
  - パスワード強度判定と SQL インジェクション検知

#### 49_encryption_basics.py
- **概要**: 共有鍵暗号と暗号化キーの取り扱い（Fernet）
- **内容**: メッセージの暗号化/復号およびキー生成デモ
- **実装**:
  - `cryptography` ライブラリを用いた暗号化処理
  - 異なるキーでの復号失敗デモ
  - 代替として `hashlib` によるハッシュ例を同梱

#### 50_log_analysis.py
- **概要**: Web アクセスログからの異常検知
- **内容**: アクセス頻度分析、ブルートフォース検知、推奨対策出力
- **実装**:
  - ログファイル読み込みと統計算出
  - 疑わしいパターンの抽出
  - セキュリティ勧告メッセージの表示

#### 51_network_security.py
- **概要**: ポートスキャン、IP 評判確認、監視シミュレーション
- **内容**: ネットワーク監視基盤の基礎機能デモ
- **実装**:
  - ローカルポートの開放状況確認
  - 擬似的な IP 評判データベース
  - シンプルなイベントストリーム解析

#### 52_secure_communication.py
- **概要**: 安全な通信チャネル確立のための暗号化実装
- **内容**: 鍵交換、署名、暗号化メッセージ送受信のデモ
- **実装**:
  - `cryptography` ライブラリのハイブリッド暗号
  - HMAC によるメッセージ完全性検証
  - 擬似セッションハンドシェイク

#### 53_access_control.py
- **概要**: 役割ベースアクセス制御（RBAC）の実践例
- **内容**: 認証、権限管理、監査ログ、アカウントロック
- **実装**:
  - 役割と権限のマッピング
  - ログイン失敗によるロックアウト
  - 監査レポート生成

#### 54_multi_factor_auth.py
- **概要**: 多要素認証（MFA）ワークフローの統合例
- **内容**: パスワードハッシュ化、OTP 生成・検証、バックアップコード管理
- **実装**:
  - SHA-256 によるパスワード管理
  - OTP 送信と再試行制限
  - MFA 設定変更と統計集計

#### 55_intrusion_detection.py
- **概要**: シグネチャベース侵入検知システム（IDS）のミニ実装
- **内容**: 攻撃パターン検出、接続追跡、ブロックリスト運用
- **実装**:
  - 正規表現ルールによるアラート生成
  - IP ブロックとダッシュボード統計
  - 推奨対策メッセージの提示

## 実行方法

各ファイルは独立して実行可能です：

```bash
# 基本的なプログラム実行
python 01_student_example.py
python 02_inheritance_example.py
# ... 以下同様

# グラフアルゴリズムとパス探索
python 22_dijkstra_basic.py
python 23_dijkstra_simple.py
python 24_astar_simple.py
python 25_graph_visualization.py

# ネットワークプログラミング
python 26_socket_programming_basics.py
python 27_network_client_server.py
python 29_http_client_server.py

# データベース関連
python 37_run_database_examples.py
python 38_test_postgresql_connection.py
python 39_verify_database_setup.py

# セキュリティ関連
python 47_security_basics.py
python 48_input_validation.py
# ... 以下同様
```

### 環境要件と依存関係

- **Python 3.x** での実行を推奨します
- Windows（CP932）環境で絵文字や特殊記号を含むスクリプトを実行する際は、`PYTHONIOENCODING=utf-8` を付与してください
- 一部のプログラムは外部ライブラリに依存します：
  - `25_graph_visualization.py`: `matplotlib`, `networkx` ライブラリ
  - `48_encryption_basics.py`, `51_secure_communication.py`: `cryptography` ライブラリ
  - データベース関連ファイル: `psycopg2` または `psycopg2-binary`

```bash
# 必要なライブラリのインストール
pip install matplotlib networkx  # グラフ可視化用
pip install cryptography
pip install psycopg2-binary  # PostgreSQL用
```

### ネットワークプログラミングの実行方法（Windows PowerShell）

```powershell
# UTF-8 出力を有効化
$env:PYTHONIOENCODING = 'utf-8'

# 基本的なソケット通信
python 26_socket_programming_basics.py
python 27_network_client_server.py

# HTTP通信（Webサーバー起動）
python 29_simple_web_server.py  # ブラウザで http://localhost:8888 にアクセス
python 29_http_client_server.py

# 修正版ファイルの実行（推奨）
python 30_email_client_fixed.py
python 31_ftp_client_fixed.py

# その他のネットワーク機能
python 32_dns_resolution.py
python 33_web_scraping.py
python 34_network_protocols.py
python 35_network_security_basics.py
python 36_network_performance.py
```

### セキュリティスクリプトの実行方法

```powershell
# UTF-8 出力を有効化
$env:PYTHONIOENCODING = 'utf-8'

# 暗号化ライブラリのインストール（必要に応じて）
python -m pip install --user cryptography

# セキュリティ基礎
python 47_security_basics.py
python 48_input_validation.py
python 49_encryption_basics.py

# ログ解析・ネットワーク監視
python 50_log_analysis.py
python 51_network_security.py
python 52_secure_communication.py

# アクセス制御・認証
python 53_access_control.py
python 54_multi_factor_auth.py
python 55_intrusion_detection.py
```

### 実行時の注意事項

#### グラフアルゴリズム関連
- `25_graph_visualization.py` は実行時に画像ファイル（PNG）を生成します
- matplotlibとnetworkxライブラリが必要です（`pip install matplotlib networkx`）
- 生成される画像: `algorithm_comparison.png`, `maze_solution.png`

#### ネットワークプログラミング関連
- `27_network_client_server.py` は単体でサーバとクライアントの接続検証を完了し、終了時にサーバスレッドを停止します
- `29_simple_web_server.py` は独立したWebサーバーとして動作し、ブラウザからアクセス可能です
- `51_network_security.py` はローカルポートスキャンを行うため、実行環境によっては管理者権限やファイアウォール設定の許可が必要になる場合があります

#### 文字エンコーディング問題
- Windows環境では一部のファイルでUnicode文字（✓✗）の表示エラーが発生する場合があります
- 修正版ファイル（`*_fixed.py`）または英語版ファイルの使用を推奨します

#### データベース関連
- PostgreSQLサーバーが事前にインストール・設定されている必要があります
- 接続情報（ホスト、ポート、ユーザー名、パスワード）は各スクリプト内で設定してください

## 補助ファイルと修正版について

### ネットワークプログラミング補助ファイル
- `socket_programming_basics_jp.py`: 26番の日本語版（文字化け回避のため英語版を推奨）
- `28_test_socket_demo.py`: ソケット通信テスト用ファイル
- `29_simple_web_server.py`: 独立動作可能なWebサーバー
- `30_email_client_fixed.py`: 添付ファイル処理バグ修正版
- `31_ftp_client_fixed.py`: Unicode文字問題修正版

### データベース関連情報
- `setup_postgresql.md`: PostgreSQLセットアップガイド
- `database_examples.pgsql`: PostgreSQLサンプルコード集

## 学習目的の更新

このコレクションは以下の学習目的で構成されています：

1. **オブジェクト指向プログラミング**の基本概念習得（01-05）
2. **エラーハンドリングとデバッグ**技術（06-09）
3. **再帰アルゴリズム**の理解と実装（10-13）
4. **ソートアルゴリズム**の比較と分析（14-16）
5. **データ構造**の効率的な使用方法（17-21）
6. **グラフアルゴリズムとパス探索**の実装と可視化（22-25）
7. **ネットワークプログラミング**の基礎と応用（26-36）
8. **データベース操作**と接続管理（37-39）
9. **情報セキュリティ**の実践的実装（47-55）

## 全体的な注意事項

- 一部のプログラム（特に再帰アルゴリズム）は大きな入力値で実行時間が長くなる場合があります
- ログファイル（app.log）が生成されるプログラムがあります
- Windows環境では文字エンコーディングの問題が発生する場合があります
- ネットワークプログラミングでは一部のファイルでポート使用やファイアウォール設定が必要になる場合があります

---

## データベースファイル詳細

### database_examples.pgsql
- **概要**: データベースシステム講義から抽出したPostgreSQLサンプルコード集
- **内容**: データベース設計とSQL操作の実践例
- **実装内容**:
  - **テーブル設計**: 大学管理システムのスキーマ定義
    - 学部テーブル (departments)
    - 学生テーブル (students)
    - 科目テーブル (courses)
    - 履修テーブル (enrollments)
  - **制約と関係性**: 主キー、外部キー、CHECK制約、UNIQUE制約
  - **インデックス**: パフォーマンス向上のためのインデックス作成
  - **ビュー**: 学生成績一覧ビューと学部別統計ビュー
  - **セキュリティ**: ユーザー作成、権限管理、行レベルセキュリティ
  - **トランザクション**: ACID特性を保証した安全な操作例
  - **高度なクエリ**: JOIN、サブクエリ、集約関数、WITH句の活用


